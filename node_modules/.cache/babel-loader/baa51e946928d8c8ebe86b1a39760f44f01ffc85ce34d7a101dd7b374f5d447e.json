{"ast":null,"code":"/** @format */\n\nimport { useCotnext } from \"react\";\nimport axios from \"axios\";\nimport { message } from \"antd\";\nconst endPoint = \"https://65eb419b43ce164189339311.mockapi.io/users\";\nexport const useUsers = () => {\n  const lookUpUserByUserName = async username => {\n    let isExisted = false;\n    await axios.get(`${endPoint}?username=${username}`).then(res => {\n      const data = res.data;\n      if (data.length > 0) {\n        if (data[0].username === username) {\n          isExisted = true;\n        }\n      }\n    }).catch(err => console.log(err));\n    return isExisted;\n  };\n  const onSignup = async (username, email, password) => {\n    const defaultRole = 1; // user\n    const user = {\n      username: username,\n      email: email,\n      password: password,\n      role: defaultRole\n    };\n    const isExisted = await lookUpUserByUserName(username);\n    if (isExisted) {\n      message.error('Username này đã tồn tại');\n    } else {\n      axios.post(endPoint, user).then(res => {\n        data = res.data;\n        console.log(data);\n      });\n    }\n  };\n  return {\n    onSignup\n  };\n};","map":{"version":3,"names":["useCotnext","axios","message","endPoint","useUsers","lookUpUserByUserName","username","isExisted","get","then","res","data","length","catch","err","console","log","onSignup","email","password","defaultRole","user","role","error","post"],"sources":["/Users/giakhang/Desktop/STUDY/Kì5/Support HP/Civil-housing-construction-quotation-system/src/Services/Hooks/useUsers.js"],"sourcesContent":["/** @format */\n\nimport { useCotnext } from \"react\";\nimport axios from \"axios\";\nimport { message } from \"antd\";\n\nconst endPoint = \"https://65eb419b43ce164189339311.mockapi.io/users\";\n\nexport const useUsers = () => {\n\n  const lookUpUserByUserName = async (username) => {\n    let isExisted = false;\n    await axios.get(`${endPoint}?username=${username}`)\n        .then((res) => {\n            const data = res.data;\n            if(data.length > 0) {\n                if (data[0].username === username) {\n                    isExisted = true;\n                }\n            }\n        })\n        .catch(err => console.log(err))\n\n    return isExisted;\n  };\n\n  const onSignup = async (username, email, password) => {\n    const defaultRole = 1; // user\n    const user = {\n      username: username,\n      email: email,\n      password: password,\n      role: defaultRole,\n    };\n\n    const isExisted = await lookUpUserByUserName(username)\n\n    if(isExisted) { \n        message.error('Username này đã tồn tại')\n    } else {\n        axios.post(endPoint, user)\n            .then((res) => {\n                data = res.data\n                console.log(data)\n            })\n    }\n  };\n\n  return {onSignup}\n};\n"],"mappings":"AAAA;;AAEA,SAASA,UAAU,QAAQ,OAAO;AAClC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,MAAM;AAE9B,MAAMC,QAAQ,GAAG,mDAAmD;AAEpE,OAAO,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAE5B,MAAMC,oBAAoB,GAAG,MAAOC,QAAQ,IAAK;IAC/C,IAAIC,SAAS,GAAG,KAAK;IACrB,MAAMN,KAAK,CAACO,GAAG,CAAE,GAAEL,QAAS,aAAYG,QAAS,EAAC,CAAC,CAC9CG,IAAI,CAAEC,GAAG,IAAK;MACX,MAAMC,IAAI,GAAGD,GAAG,CAACC,IAAI;MACrB,IAAGA,IAAI,CAACC,MAAM,GAAG,CAAC,EAAE;QAChB,IAAID,IAAI,CAAC,CAAC,CAAC,CAACL,QAAQ,KAAKA,QAAQ,EAAE;UAC/BC,SAAS,GAAG,IAAI;QACpB;MACJ;IACJ,CAAC,CAAC,CACDM,KAAK,CAACC,GAAG,IAAIC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;IAEnC,OAAOP,SAAS;EAClB,CAAC;EAED,MAAMU,QAAQ,GAAG,MAAAA,CAAOX,QAAQ,EAAEY,KAAK,EAAEC,QAAQ,KAAK;IACpD,MAAMC,WAAW,GAAG,CAAC,CAAC,CAAC;IACvB,MAAMC,IAAI,GAAG;MACXf,QAAQ,EAAEA,QAAQ;MAClBY,KAAK,EAAEA,KAAK;MACZC,QAAQ,EAAEA,QAAQ;MAClBG,IAAI,EAAEF;IACR,CAAC;IAED,MAAMb,SAAS,GAAG,MAAMF,oBAAoB,CAACC,QAAQ,CAAC;IAEtD,IAAGC,SAAS,EAAE;MACVL,OAAO,CAACqB,KAAK,CAAC,yBAAyB,CAAC;IAC5C,CAAC,MAAM;MACHtB,KAAK,CAACuB,IAAI,CAACrB,QAAQ,EAAEkB,IAAI,CAAC,CACrBZ,IAAI,CAAEC,GAAG,IAAK;QACXC,IAAI,GAAGD,GAAG,CAACC,IAAI;QACfI,OAAO,CAACC,GAAG,CAACL,IAAI,CAAC;MACrB,CAAC,CAAC;IACV;EACF,CAAC;EAED,OAAO;IAACM;EAAQ,CAAC;AACnB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}