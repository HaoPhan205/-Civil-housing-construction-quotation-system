{"ast":null,"code":"/** @format */\n\nimport { useCotnext } from \"react\";\nimport axios from \"axios\";\nimport { message } from \"antd\";\nconst endPoint = \"https://65eb419b43ce164189339311.mockapi.io/users\";\nexport const useUsers = () => {\n  const lookUpUserByUserName = async username => {\n    let isExisted = false;\n    await axios.get(`${endPoint}?username=${username}`).then(res => {\n      const data = res.data;\n      if ((data === null || data === void 0 ? void 0 : data.username) === username) {\n        isExisted = true;\n      }\n    }).catch(err => console.log(err));\n    return isExisted;\n  };\n  const onSignup = async (username, email, password) => {\n    const defaultRole = 1; // user\n    const user = {\n      username: username,\n      email: email,\n      password: password,\n      role: defaultRole\n    };\n    const isExisted = await lookUpUserByUserName(username);\n    if (isExisted) {\n      message.error('Username này đã tồn tại');\n    }\n  };\n  return {\n    onSignup\n  };\n};","map":{"version":3,"names":["useCotnext","axios","message","endPoint","useUsers","lookUpUserByUserName","username","isExisted","get","then","res","data","catch","err","console","log","onSignup","email","password","defaultRole","user","role","error"],"sources":["/Users/giakhang/Desktop/STUDY/Kì5/Support HP/Civil-housing-construction-quotation-system/src/Services/Hooks/useUsers.js"],"sourcesContent":["/** @format */\n\nimport { useCotnext } from \"react\";\nimport axios from \"axios\";\nimport { message } from \"antd\";\n\nconst endPoint = \"https://65eb419b43ce164189339311.mockapi.io/users\";\n\nexport const useUsers = () => {\n\n  const lookUpUserByUserName = async (username) => {\n    let isExisted = false;\n    await axios.get(`${endPoint}?username=${username}`)\n        .then((res) => {\n            const data = res.data;\n            if (data?.username === username) {\n                isExisted = true;\n            }\n        })\n        .catch(err => console.log(err))\n\n    return isExisted;\n  };\n\n  const onSignup = async (username, email, password) => {\n    const defaultRole = 1; // user\n    const user = {\n      username: username,\n      email: email,\n      password: password,\n      role: defaultRole,\n    };\n\n    const isExisted = await lookUpUserByUserName(username)\n\n    if(isExisted) { \n        message.error('Username này đã tồn tại')\n    }\n  };\n\n  return {onSignup}\n};\n"],"mappings":"AAAA;;AAEA,SAASA,UAAU,QAAQ,OAAO;AAClC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,MAAM;AAE9B,MAAMC,QAAQ,GAAG,mDAAmD;AAEpE,OAAO,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAE5B,MAAMC,oBAAoB,GAAG,MAAOC,QAAQ,IAAK;IAC/C,IAAIC,SAAS,GAAG,KAAK;IACrB,MAAMN,KAAK,CAACO,GAAG,CAAE,GAAEL,QAAS,aAAYG,QAAS,EAAC,CAAC,CAC9CG,IAAI,CAAEC,GAAG,IAAK;MACX,MAAMC,IAAI,GAAGD,GAAG,CAACC,IAAI;MACrB,IAAI,CAAAA,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEL,QAAQ,MAAKA,QAAQ,EAAE;QAC7BC,SAAS,GAAG,IAAI;MACpB;IACJ,CAAC,CAAC,CACDK,KAAK,CAACC,GAAG,IAAIC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;IAEnC,OAAON,SAAS;EAClB,CAAC;EAED,MAAMS,QAAQ,GAAG,MAAAA,CAAOV,QAAQ,EAAEW,KAAK,EAAEC,QAAQ,KAAK;IACpD,MAAMC,WAAW,GAAG,CAAC,CAAC,CAAC;IACvB,MAAMC,IAAI,GAAG;MACXd,QAAQ,EAAEA,QAAQ;MAClBW,KAAK,EAAEA,KAAK;MACZC,QAAQ,EAAEA,QAAQ;MAClBG,IAAI,EAAEF;IACR,CAAC;IAED,MAAMZ,SAAS,GAAG,MAAMF,oBAAoB,CAACC,QAAQ,CAAC;IAEtD,IAAGC,SAAS,EAAE;MACVL,OAAO,CAACoB,KAAK,CAAC,yBAAyB,CAAC;IAC5C;EACF,CAAC;EAED,OAAO;IAACN;EAAQ,CAAC;AACnB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}